<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF">
    <title>Matchmaker Lite</title>
</head>

<body>
    <h1>Matchmaker 2021</h1>
    <p>In the following program, you will be asked to answer a series of 5 questions
        to see if you are a suitable mate. Read the question and rate how you feel by
        answering with te drop down bars on how much you agree or disagree with the statements.</p>

    <label> I enjoy sports</label><br />
    <select id="q1">
        <option value="5">Strongly Agree</option>
        <option value="4">Agree</option>
        <option value="3">Neither agree or disagree</option>
        <option value="2">Disagree</option>
        <option value="1">Strongly Disagree</option>
    </select>
    <br /><br />
    
    <label> I like cheese</label><br />
    <select id="q2">
        <option value="5">Strongly Agree</option>
        <option value="4">Agree</option>
        <option value="3">Neither agree or disagree</option>
        <option value="2">Disagree</option>
        <option value="1">Srtongly Disagree</option>
    </select>
    <br /><br />
    <label> Wisconsin is the best state</label><br />
    <select id="q3">
        <option value="5">Strongly Agree</option>
        <option value="4">Agree</option>
        <option value="3">Neither agree or disagree</option>
        <option value="2">Disagree</option>
        <option value="1">Strongly Disagree</option>
    </select>
    <br /><br />
    <label> Steak is the best food</label><br />
    <select id="q4">
        <option value="5">Strongly Agree</option>
        <option value="4">Agree</option>
        <option value="3">Neither agree or disagree</option>
        <option value="2">Disagree</option>
        <option value="1">Strongly Disagree</option>
    </select>
    <br /><br />
    <label> I dont like 80s music</label><br />
    <select id="q5">
        <option value="5">Strongly Agree</option>
        <option value="4">Agree</option>
        <option value="3">Neither agree or disagree</option>
        <option value="2">Disagree</option>
        <option value="1">Strongly Disagree</option>
    </select>
    <br /><br /><br />
    <button onclick="CalculateCompatibility()">Calculate Compatibility</button>
    <p id="compatibility"></p>
<script>
console.log("Starting Matchmaker Lite...")

function CalculateCompatibility() {
    console.log("CalculateCompatibility")

    const DESIRED_RESPONSE = [
        5,
        2,
        4,
        5,
        1
    ]

    const WEIGHTS = [
        2,
        1,
        2,
        2,
        3
    ]

    const MAX = 50;
    let question1Response = document.getElementById('q1').selectedOptions[0].value;
    let question2Response = document.getElementById('q2').selectedOptions[0].value;
    let question3Response = document.getElementById('q3').selectedOptions[0].value;
    let question4Response = document.getElementById('q4').selectedOptions[0].value;
    let question5Response = document.getElementById('q5').selectedOptions[0].value;
    
    console.log('Question 1 Answer:')
    console.log(document.getElementById('q1').selectedOptions[0].text)
    console.log(document.getElementById('q1').selectedOptions[0].vlaue)
    console.log(question1Response)

    //Clacs each question compatibility
    let question1Compatibility = (5 - Math.abs(question1Response - DESIRED_RESPONSE[0])) * WEIGHTS[0]
    let question2Compatibility = (5 - Math.abs(question2Response - DESIRED_RESPONSE[1])) * WEIGHTS[1]
    let question3Compatibility = (5 - Math.abs(question3Response - DESIRED_RESPONSE[2])) * WEIGHTS[2]
    let question4Compatibility = (5 - Math.abs(question4Response - DESIRED_RESPONSE[3])) * WEIGHTS[3]
    let question5Compatibility = (5 - Math.abs(question5Response - DESIRED_RESPONSE[4])) * WEIGHTS[4]
    
    console.log('c1='+question1Compatibility);
    console.log('c2='+question2Compatibility);
    console.log('c3='+question3Compatibility);
    console.log('c4='+question4Compatibility);
    console.log('c5='+question5Compatibility);

    //Calc total compatibility
    let totalCompatibility = question1Compatibility + question2Compatibility + question3Compatibility + question4Compatibility + question5Compatibility

    //Percent Compatible
    totalCompatibility *= 100 / MAX
    totalCompatibility = Math.round(totalCompatibility)
    console.log('total compatibility=' +totalCompatibility);

    document.getElementById("compatibility").innerHTML = "Are You Worthy..." + totalCompatibility;

}

</script>


</body>
</html>
